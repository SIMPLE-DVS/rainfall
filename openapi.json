{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/nodes":{"get":{"tags":["nodes"],"summary":"Get Nodes","description":"Api used to get all the available nodes","operationId":"get_nodes_api_v1_nodes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Nodes Api V1 Nodes Get","type":"array","items":{"$ref":"#/components/schemas/NodeStructure"}}}}}}}},"/api/v1/nodes/custom":{"post":{"tags":["nodes"],"summary":"Check Custom Node","description":"Api used to manage a custom node","operationId":"check_custom_node_api_v1_nodes_custom_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomNodeSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomNodeIOParams"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/nodes/{clazz}":{"get":{"tags":["nodes"],"summary":"Get Node","description":"Api used to get a single node","operationId":"get_node_api_v1_nodes__clazz__get","parameters":[{"required":true,"schema":{"title":"Clazz"},"name":"clazz","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeStructure"}}}},"404":{"description":"Not Found","schema":{"__module__":"simple_backend.errors","__init__":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/config":{"post":{"tags":["config"],"summary":"Post Config","description":"Api used to create a zip file containing all the artifacts:\n    - Python script\n    - List of dependencies\n    - UI configuration\n    - metadata","operationId":"post_config_api_v1_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/config/convert":{"post":{"tags":["config"],"summary":"Convert To Script","description":"Api used to create a Python script from a list of node configurations","operationId":"convert_to_script_api_v1_config_convert_post","requestBody":{"content":{"application/json":{"schema":{"title":"Nodes","type":"array","items":{"anyOf":[{"$ref":"#/components/schemas/CustomNode"},{"$ref":"#/components/schemas/Node"}]}}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Convert To Script Api V1 Config Convert Post","type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/script":{"post":{"tags":["script"],"summary":"Post Script","description":"Api used to manage the conversion from a Python script to the UI state","operationId":"post_script_api_v1_script_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReversedScript"}}}}}}},"/api/v1/repositories":{"get":{"tags":["repository"],"summary":"Get Repositories","description":"Gets all the repositories within the output directory. ","operationId":"get_repositories_api_v1_repositories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Repositories Api V1 Repositories Get","type":"array","items":{"type":"string"}}}}}}}},"/api/v1/repositories/archived":{"get":{"tags":["repository"],"summary":"Get Archived Repositories","description":"Gets all the archived repositories within the output directory. ","operationId":"get_archived_repositories_api_v1_repositories_archived_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Archived Repositories Api V1 Repositories Archived Get","type":"array","items":{"type":"string"}}}}}}}},"/api/v1/repositories/{repository}":{"get":{"tags":["repository"],"summary":"Get Repository","description":"Gets the content of the repository. ","operationId":"get_repository_api_v1_repositories__repository__get","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryGet"}}}},"404":{"description":"Not Found","schema":{"__module__":"simple_backend.errors","__init__":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["repository"],"summary":"Create Repository","description":"Creates a new repository within the output directory. ","operationId":"create_repository_api_v1_repositories__repository__post","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPost"}}}},"404":{"description":"Not Found","schema":{"__module__":"simple_backend.errors","__init__":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["repository"],"summary":"Delete Repository","description":"Delete a repository from the output directory. ","operationId":"delete_repository_api_v1_repositories__repository__delete","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"},{"required":true,"schema":{"title":"Shallow","type":"boolean"},"name":"shallow","in":"query"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/repositories/archived/{repository}":{"post":{"tags":["repository"],"summary":"Unarchive Repository","description":"Unarchive an archived repository. ","operationId":"unarchive_repository_api_v1_repositories_archived__repository__post","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPost"}}}},"404":{"description":"Not Found","schema":{"__module__":"simple_backend.errors","__init__":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["repository"],"summary":"Delete Archived Repository","description":"Delete an archived repository from the output directory. ","operationId":"delete_archived_repository_api_v1_repositories_archived__repository__delete","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/repositories/{repository}/dataflows/{id}":{"get":{"tags":["dataflow"],"summary":"Get","description":"Gets the specified Dataflow from the repository. ","operationId":"get_api_v1_repositories__repository__dataflows__id__get","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"},{"required":true,"schema":{"title":"Id","type":"string"},"name":"id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataFlow"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["dataflow"],"summary":"Delete","description":"Deletes a Dataflow in the repository. ","operationId":"delete_api_v1_repositories__repository__dataflows__id__delete","parameters":[{"required":true,"schema":{"title":"Repository","type":"string"},"name":"repository","in":"path"},{"required":true,"schema":{"title":"Id","type":"string"},"name":"id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/execution":{"post":{"tags":["execution"],"summary":"Post Nodes Requirements","description":"Api used to retrieve the requirements","operationId":"post_nodes_requirements_api_v1_execution_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_post_nodes_requirements_api_v1_execution_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Post Nodes Requirements Api V1 Execution Post","type":"array","items":{"type":"string"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_post_nodes_requirements_api_v1_execution_post":{"title":"Body_post_nodes_requirements_api_v1_execution_post","required":["libs","ui_nodes","ui_structures"],"type":"object","properties":{"libs":{"title":"Libs","type":"array","items":{"type":"string"}},"ui_nodes":{"title":"Ui Nodes","type":"array","items":{"$ref":"#/components/schemas/UINode"}},"ui_structures":{"title":"Ui Structures","type":"object","additionalProperties":{"anyOf":[{"$ref":"#/components/schemas/CustomNodeStructure"},{"$ref":"#/components/schemas/NodeStructure"}]}}}},"ConfigResponse":{"title":"ConfigResponse","required":["id","path","url"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"path":{"title":"Path","type":"string"},"url":{"title":"Url","type":"string"}}},"ConfigurationSchema":{"title":"ConfigurationSchema","required":["pipeline_uid","nodes","dependencies","ui"],"type":"object","properties":{"pipeline_uid":{"title":"Pipeline Uid","type":"string"},"nodes":{"title":"Nodes","type":"array","items":{"anyOf":[{"$ref":"#/components/schemas/CustomNode"},{"$ref":"#/components/schemas/Node"}]}},"dependencies":{"title":"Dependencies","type":"array","items":{"type":"string"}},"ui":{"$ref":"#/components/schemas/UI"},"repository":{"title":"Repository","type":"string"},"path":{"title":"Path","type":"string"}}},"CustomNode":{"title":"CustomNode","required":["node_id","node","parameters","function_name","code"],"type":"object","properties":{"node_id":{"title":"Node Id","type":"string"},"node":{"title":"Node","type":"string"},"parameters":{"title":"Parameters","type":"object"},"then":{"title":"Then","type":"array","items":{"$ref":"#/components/schemas/NodeThen"}},"function_name":{"title":"Function Name","type":"string"},"code":{"title":"Code","type":"string"}},"description":"Class to represent, as a Python object, the custom node configuration.\n\n    Attribute\n    ----------\n\n    function_name : string\n        Name of the function that is the access point of the custom node in the code.\n\n    code : string\n        Python code of the custom node."},"CustomNodeIOParams":{"title":"CustomNodeIOParams","type":"object","properties":{"inputs":{"title":"Inputs","type":"array","items":{"type":"string"},"default":[]},"outputs":{"title":"Outputs","type":"array","items":{"type":"string"},"default":[]},"params":{"title":"Params","type":"array","items":{"type":"string"},"default":[]}}},"CustomNodeSchema":{"title":"CustomNodeSchema","required":["function_name","code","language"],"type":"object","properties":{"function_name":{"title":"Function Name","type":"string"},"code":{"title":"Code","type":"string"},"language":{"title":"Language","type":"string"}}},"CustomNodeStructure":{"title":"CustomNodeStructure","required":["clazz","description","package","parameter","tags","function_name","code"],"type":"object","properties":{"clazz":{"title":"Clazz","type":"string"},"description":{"title":"Description","type":"string"},"input":{"title":"Input","type":"object"},"methods":{"title":"Methods","type":"array","items":{"type":"string"}},"output":{"title":"Output","type":"object"},"package":{"title":"Package","type":"string"},"parameter":{"title":"Parameter","type":"array","items":{"$ref":"#/components/schemas/NodeParameter"}},"tags":{"$ref":"#/components/schemas/NodeTags"},"function_name":{"title":"Function Name","type":"string"},"code":{"title":"Code","type":"string"}}},"DataFlow":{"title":"DataFlow","required":["id","path"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"path":{"title":"Path","type":"string"},"script":{"title":"Script","type":"string"},"metadata":{"title":"Metadata","type":"string"},"requirements":{"title":"Requirements","type":"string"},"ui":{"title":"Ui","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"Node":{"title":"Node","required":["node_id","node","parameters"],"type":"object","properties":{"node_id":{"title":"Node Id","type":"string"},"node":{"title":"Node","type":"string"},"parameters":{"title":"Parameters","type":"object"},"then":{"title":"Then","type":"array","items":{"$ref":"#/components/schemas/NodeThen"}}},"description":"Class to represent, as a Python object, the node configuration.\n\n    Attribute\n    ----------\n\n    node_id : string\n        The unique identifier that each node must have.\n\n    node : string\n        The full-name formed by {package + module + class}, useful to dynamically import the\n        module and to return the wanted class representing one step of the pipeline\n\n    parameters : dict\n        List of features that characterizes each step of the pipeline. Obviously, depending on the node,\n        we have a different structure of the list with different number of features.\n\n    then : list\n        List of objects representing the node(s) and the ports that are directly linked with the current node."},"NodeParameter":{"title":"NodeParameter","required":["name","is_mandatory"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"description":{"title":"Description","type":"string"},"is_mandatory":{"title":"Is Mandatory","type":"boolean"},"type":{"title":"Type","type":"string"},"default_value":{"title":"Default Value"}}},"NodeStructure":{"title":"NodeStructure","required":["clazz","description","package","parameter","tags"],"type":"object","properties":{"clazz":{"title":"Clazz","type":"string"},"description":{"title":"Description","type":"string"},"input":{"title":"Input","type":"object"},"methods":{"title":"Methods","type":"array","items":{"type":"string"}},"output":{"title":"Output","type":"object"},"package":{"title":"Package","type":"string"},"parameter":{"title":"Parameter","type":"array","items":{"$ref":"#/components/schemas/NodeParameter"}},"tags":{"$ref":"#/components/schemas/NodeTags"}}},"NodeTags":{"title":"NodeTags","required":["library","type"],"type":"object","properties":{"library":{"title":"Library","type":"string"},"type":{"title":"Type","type":"string"}}},"NodeThen":{"title":"NodeThen","required":["to_node","from_port","to_port"],"type":"object","properties":{"to_node":{"title":"To Node","type":"string"},"from_port":{"title":"From Port","type":"string"},"to_port":{"title":"To Port","type":"string"}}},"RepositoryGet":{"title":"RepositoryGet","required":["repository","path","content"],"type":"object","properties":{"repository":{"title":"Repository","type":"string"},"path":{"title":"Path","type":"string"},"content":{"title":"Content","type":"array","items":{"type":"array","items":{"type":"string"}}}}},"RepositoryPost":{"title":"RepositoryPost","required":["repository","path","uri"],"type":"object","properties":{"repository":{"title":"Repository","type":"string"},"path":{"title":"Path","type":"string"},"uri":{"title":"Uri","type":"string"}}},"ReversedCustom":{"title":"ReversedCustom","required":["function_name","clazz","code","inputs","outputs","params"],"type":"object","properties":{"function_name":{"title":"Function Name","type":"string"},"clazz":{"title":"Clazz","type":"string"},"code":{"title":"Code","type":"string"},"inputs":{"title":"Inputs","type":"array","items":{"type":"string"}},"outputs":{"title":"Outputs","type":"array","items":{"type":"string"}},"params":{"title":"Params","type":"array","items":{"type":"string"}}}},"ReversedEdge":{"title":"ReversedEdge","required":["from_node","from_var","to_node","to_var"],"type":"object","properties":{"from_node":{"title":"From Node","type":"string"},"from_var":{"title":"From Var","type":"string"},"to_node":{"title":"To Node","type":"string"},"to_var":{"title":"To Var","type":"string"}}},"ReversedNode":{"title":"ReversedNode","required":["node","clazz","pos","params"],"type":"object","properties":{"node":{"title":"Node","type":"string"},"clazz":{"title":"Clazz","type":"string"},"pos":{"title":"Pos","type":"array","items":{"type":"number"}},"params":{"title":"Params","type":"array","items":{"$ref":"#/components/schemas/ReversedParam"}}}},"ReversedParam":{"title":"ReversedParam","required":["key"],"type":"object","properties":{"key":{"title":"Key","type":"string"},"value":{"title":"Value"},"type":{"title":"Type","type":"string"}}},"ReversedScript":{"title":"ReversedScript","type":"object","properties":{"nodes":{"title":"Nodes","type":"array","items":{"$ref":"#/components/schemas/ReversedNode"},"default":[]},"custom":{"title":"Custom","type":"array","items":{"$ref":"#/components/schemas/ReversedCustom"},"default":[]},"edges":{"title":"Edges","type":"array","items":{"$ref":"#/components/schemas/ReversedEdge"},"default":[]}}},"UI":{"title":"UI","required":["anyConfigs","configs","edges","nodes","structures","transform"],"type":"object","properties":{"anyConfigs":{"title":"Anyconfigs","type":"object","additionalProperties":{"type":"string"}},"configs":{"title":"Configs","type":"object","additionalProperties":{"type":"object"}},"edges":{"title":"Edges","type":"object","additionalProperties":{"$ref":"#/components/schemas/UIEdge"}},"nodes":{"title":"Nodes","type":"object","additionalProperties":{"$ref":"#/components/schemas/UINode"}},"structures":{"title":"Structures","type":"object","additionalProperties":{"anyOf":[{"$ref":"#/components/schemas/CustomNodeStructure"},{"$ref":"#/components/schemas/NodeStructure"}]}},"transform":{"title":"Transform","type":"string"}}},"UIEdge":{"title":"UIEdge","required":["fromNode","fromPort","toNode","toPort"],"type":"object","properties":{"fromNode":{"title":"Fromnode","type":"string"},"fromPort":{"title":"Fromport","type":"string"},"toNode":{"title":"Tonode","type":"string"},"toPort":{"title":"Toport","type":"string"}}},"UINode":{"title":"UINode","required":["name","package","selected","x","y"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"package":{"title":"Package","type":"string"},"selected":{"title":"Selected","type":"boolean"},"x":{"title":"X","type":"number"},"y":{"title":"Y","type":"number"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}